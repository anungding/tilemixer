<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TileMixer - Random Collage Generator - By anungrmdhn</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">

  <!-- ADD: Primary SEO metas -->
  <meta name="description" content="TileMixer — Split a photo into a customizable grid, shuffle tiles, preview and download the collage or tiles. Client-side image processing; no uploads.">
  <meta name="keywords" content="tile mixer, collage generator, image splitter, shuffle tiles, download tiles, web app, client-side image editor">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tilemixer.vercel.app/">

  <!-- ADD: Social sharing / Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="TileMixer — Random Collage Generator">
  <meta property="og:description" content="Split photos into a grid, reshuffle tiles and download the full collage or each tile. All processing runs locally in your browser.">
  <meta property="og:url" content="https://tilemixer.vercel.app/">
  <meta property="og:site_name" content="TileMixer">
  <!-- replace with a real image URL (recommended: 1200x630) -->
  <meta property="og:image" content="https://tilemixer.vercel.app/preview-share.jpg">
  <meta property="og:image:alt" content="TileMixer collage preview">

  <!-- ADD: Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="TileMixer — Random Collage Generator">
  <meta name="twitter:description" content="Split photos into a grid, reshuffle tiles and download the full collage or each tile. All processing runs locally in your browser.">
  <meta name="twitter:image" content="https://tilemixer.vercel.app/preview-share.jpg">

  <!-- ADD: favicon & theme color (update paths as needed) -->
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <meta name="theme-color" content="#ffffff">

  <!-- ADD: JSON-LD WebApplication structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "TileMixer",
    "url": "https://tilemixer.vercel.app/",
    "description": "Split images into a grid, shuffle tiles, and download the collage or individual tiles. All processing is client-side.",
    "applicationCategory": "ImageProcessing",
    "operatingSystem": "Web",
    "author": {
      "@type": "Person",
      "name": "anungrmdhn"
    },
    "image": "https://tilemixer.vercel.app/preview-share.jpg"
  }
  </script>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-content">
      <div class="logo">TM</div>
      <div class="navbar-title">
        <span class="navbar-main">TileMixer</span>
        <span class="navbar-sub">by anungrmdhn</span>
      </div>
      <span class="navbar-tag">Split • Shuffle • Download</span>
    </div>
  </nav>
  <div class="main-wrap">
    <!-- Instagram grid menu removed, revert to original layout -->
    <!-- kiri: panel kontrol -->
    <div class="sidebar">
      <div class="file-wrap">
        <input id="file" type="file" accept="image/*" />
      </div>

      <div class="controls">
        <div class="control" title="Columns">
          <div style="font-weight:600;opacity:0.95;margin-right:8px">Columns</div>
          <div class="stepper">
            <button id="colMinus">−</button>
            <div class="value" id="colsVal">3</div>
            <button id="colPlus">+</button>
          </div>
        </div>
      </div>
      <div class="controls">
        <div class="control" title="Rows">
          <div style="font-weight:600;opacity:0.95;margin-right:8px">Rows</div>
          <div class="stepper">
            <button id="rowMinus">−</button>
            <div class="value" id="rowsVal">3</div>
            <button id="rowPlus">+</button>
          </div>
        </div>
      </div>
      <div class="controls">
        <div class="control toggle-wrap" title="Show tile numbers">
          <span>Numbers</span>
          <label class="switch">
            <input type="checkbox" id="toggleNumbers" checked>
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="actions hidden" id="actions">
        <button id="shuffleBtn" class="btn small ghost">Reshuffle</button>
        <button id="clearBtn" class="btn small ghost">Reset</button>
        <a id="download" class="download" href="#" download="tilemixer_collage.jpg" style="display:none">Download</a>
        <button id="downloadTiles" class="btn small ghost" style="display:none">Download Tiles (ZIP)</button>
      </div>
    </div>

    <!-- kanan: canvas -->
    <div class="canvas-wrap" id="canvasWrap">
      <div class="drop-area" id="dropArea">
        <div class="drop-hint">Drop an image here or click "Choose file"</div>
      </div>

      <!-- loader overlay -->
      <div class="loader" id="ctLoader" aria-hidden="true" role="status" aria-label="Loading">
        <div class="spinner" aria-hidden="true"></div>
      </div>

      <!-- canvas elements: removed inline styles (moved to style.css) -->
      <canvas id="canvas"></canvas>
      <canvas id="canvasFull"></canvas>
    </div>
  </div> <!-- end .main-wrap -->

  <!-- ADD: three-column feature row (place above the about/info-card) -->
  <section class="feature-row" aria-labelledby="feature-row-heading">
    <div class="col">
      <img src="images/cat.png" alt="TileMixer preview image">
    </div>

    <div class="col">
      <h2 id="feature-row-heading" class="tagline">Turn any photo into a playful, shareable tile collage — split, shuffle and remix in seconds.</h2>
    </div>

    <div class="col">
      <p class="privacy"><strong>Safe & Private:</strong> All image processing happens locally in your browser. Nothing is uploaded — your photos remain private.</p>
    </div>
  </section>

  <!-- Detailed description / how-to card -->
  <div class="info-card" aria-live="polite">
    <h3>About TileMixer</h3>
    <p>TileMixer splits a photo into a grid of tiles, shuffles or rearranges them, and lets you export either the full shuffled collage or each individual tile as a ZIP. All processing happens in your browser — files are not uploaded to any server.</p>

    <h4>Features</h4>
    <ul>
      <li>Split image into a customizable grid (Columns × Rows).</li>
      <li>Preview the shuffled collage before download.</li>
      <li>Toggle visible tile numbers for easy placement and reconstruction.</li>
      <li>Download the full collage (JPEG) or all tiles as a ZIP of JPGs.</li>
      <li>Drag & drop to reorder tiles directly in the preview (swap tiles).</li>
      <li>Drag & drop a file onto the canvas area to load an image when empty.</li>
    </ul>

    <h4>How to use</h4>
    <ul>
      <li>Upload< — Click "Choose file" or drop an image onto the canvas area when it's empty. Supported types: JPG, JPEG, PNG, WebP, GIF.</li>
      <li>Set grid — Use the Columns and Rows steppers (+ / −) to set how the image is split. Changing them regenerates tiles.</li>
      <li>Numbering — Toggle "Numbers" to show small numbers on tiles in both preview and tile downloads. (Automatically disabled for grids larger than 10×10 to avoid clutter/performance issues.)</li>
      <li>Shuffle — Click "Reshuffle" to randomly reorder tiles. Use drag to swap two tiles in the preview for precise placement.</li>
      <li>Reset — Click "Reset" to clear the image and settings.</li>
      <li>Download — Use "Download" to save the full collage as a JPEG, or "Download Tiles (ZIP)" to get all tiles as separate JPG files (with numbers if enabled).</li>
    </ul>

    <h4>Tips & limits</h4>
    <ul>
      <li>Large images and very fine grids can be CPU-intensive — use the loader while the app regenerates tiles.</li>
      <li>Numbering is disabled for grids > 10×10 to reduce clutter and processing time.</li>
      <li>If tiles ZIP seems corrupted in some environments, try re-downloading — the app creates files client-side and uses a robust ArrayBuffer path.</li>
      <li>Privacy: images are processed locally in your browser and not uploaded anywhere.</li>
    </ul>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="script.js"></script>

  <!-- ADD: footer -->
  <footer class="footer" role="contentinfo" aria-label="TileMixer footer">
    <div class="navbar-content">
      <div class="brand">TileMixer</div>

      <div class="links" aria-label="External links">
        <a href="https://github.com/anungding" target="_blank" rel="noopener">GitHub</a>
        <span aria-hidden="true">•</span>
        <a href="https://twitter.com/anungrmdhn" target="_blank" rel="noopener">Twitter</a>
      </div>

      <div class="note">Don't forget to drink coffee ☕</div>
    </div>
  </footer>

</body>
</html>